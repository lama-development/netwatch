<!DOCTYPE html>
<html>
<head>
    <title>Live Logs</title>
    <style>
    body { font-family: monospace; background: #111; color: #eee; }
    pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <h1>Live Logs</h1>
    <pre id="log"></pre>
    <script>
    const logElement = document.getElementById("log");
    const evtSource = new EventSource("/stream");
    evtSource.onmessage = function(event) {
        if (event.data) {
        logElement.innerHTML += event.data + "\n";
        // Auto-scroll to the bottom
        window.scrollTo(0, document.body.scrollHeight);
        }
    };
    evtSource.onerror = function(err) {
        console.error("EventSource failed:", err);
        evtSource.close();
    };
    </script>
</body>
</html>